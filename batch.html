<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>My Batch - Sunrise Education Centre</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css" />
    <style>
      .batch-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 1rem;
      }
      .batch-card {
        border: 1px solid #e5e7eb;
        border-radius: 16px;
        overflow: hidden;
        background: #fff;
        box-shadow: 0 4px 16px rgba(100,100,255,0.08);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }
      .batch-card:hover { 
        transform: translateY(-4px);
        box-shadow: 0 10px 28px rgba(100,100,255,0.15);
      }
      .batch-image { 
        width: 100%;
        height: 150px;
        background: #f3f4f6;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }
      .batch-image img { 
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .batch-info {
        padding: 0.9rem 1rem 1rem 1rem;
      }
      .batch-info h3 {
        margin: 0 0 0.4rem 0;
        font-size: 1.05rem;
        color: #232946;
      }
      .batch-info p {
        margin: 0 0 0.5rem 0;
        color: #666;
        font-size: 0.88rem;
      }
      .batch-cta-buttons {
        display: flex;
        gap: 0.6rem;
        flex-wrap: wrap;
      }
      .batch-cta-buttons .btn {
        flex: 1;
        min-width: 100px;
        font-size: 0.85rem;
        border-radius: 8px;
        padding: 0.5rem 1rem;
      }
      .batch-status-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        padding: 0.3rem 0.6rem;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
      }
      .status-free {
        background: #10b981;
        color: white;
      }
      .status-paid {
        background: #f59e0b;
        color: white;
      }
      .section-title {
        text-align: center;
        margin: 2rem 0 1.5rem 0;
        color: #232946;
        font-size: 1.8rem;
      }
      .section-divider {
        height: 2px;
        background: linear-gradient(90deg, transparent, #6a82fb, transparent);
        margin: 2rem 0;
      }

      /* Adjust hero section to account for floating navbar */
      .hero-section {
        padding-top: 120px;
      }

      /* Dark mode support */
      body.dark-mode .batch-card {
        background: #232946;
        border-color: #444;
      }
      body.dark-mode .batch-info h3 {
        color: #f4f4f4;
      }
      body.dark-mode .batch-info p {
        color: #ccc;
      }
      body.dark-mode .section-title {
        color: #f4f4f4;
      }
    </style>
  </head>
  <body>
    <!-- Include Floating Navbar -->
    {% include 'floating_navbar.html' %}

    <header class="hero-section">
      <div class="container hero-content">
        <h1>Choose Your Batch</h1>
        <p>Select the perfect learning path that matches your needs and goals!</p>
      </div>
    </header>

    <main class="container main-content">
      <!-- Paid Batches Section -->
      {% if paid_cards %}
      <section>
        <h2 class="section-title">ðŸ“š Premium Batches</h2>
        <div class="batch-grid">
          {% for card in paid_cards %}
          <div class="batch-card" style="position: relative;">
            <div class="batch-status-badge status-paid">Premium</div>
            <div class="batch-image">
              <img src="{{ card.image }}" alt="{{ card.batch_name }}" />
            </div>
            <div class="batch-info">
              <h3>{{ card.batch_name }}</h3>
              <p><strong>Class:</strong> {{ card.class_name }}</p>
              <p><strong>Duration:</strong> {{ card.start_date }} to {{ card.end_date }}</p>
              <div class="batch-cta-buttons">
                {% if is_logged_in %}
                  <a href="/batch/{{ card.class_id }}" class="btn btn-primary">
                    <i class="fas fa-eye"></i> View Details
                  </a>
                  {% if user_paid_status == 'paid' %}
                    <a href="/study-resources" class="btn btn-cta">
                      <i class="fas fa-play"></i> Start Learning
                    </a>
                  {% else %}
                    <button class="btn btn-secondary" onclick="alert('Please upgrade to premium to access this batch.')">
                      <i class="fas fa-lock"></i> Upgrade Required
                    </button>
                  {% endif %}
                {% else %}
                  <a href="/auth" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt"></i> Login to Access
                  </a>
                {% endif %}
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </section>
      {% endif %}

      <!-- Section Divider -->
      {% if paid_cards and free_cards %}
      <div class="section-divider"></div>
      {% endif %}

      <!-- Free Batches Section -->
      {% if free_cards %}
      <section>
        <h2 class="section-title">ðŸŽ“ Free Batches</h2>
        <div class="batch-grid">
          {% for card in free_cards %}
          <div class="batch-card" style="position: relative;">
            <div class="batch-status-badge status-free">Free</div>
            <div class="batch-image">
              <img src="{{ card.image }}" alt="{{ card.batch_name }}" />
            </div>
            <div class="batch-info">
              <h3>{{ card.batch_name }}</h3>
              <p><strong>Class:</strong> {{ card.class_name }}</p>
              <p><strong>Duration:</strong> {{ card.start_date }} to {{ card.end_date }}</p>
              <div class="batch-cta-buttons">
                {% if is_logged_in %}
                  <a href="/batch/{{ card.class_id }}" class="btn btn-primary">
                    <i class="fas fa-eye"></i> View Details
                  </a>
                  <a href="/study-resources" class="btn btn-cta">
                    <i class="fas fa-play"></i> Start Learning
                  </a>
                {% else %}
                  <a href="/auth" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt"></i> Login to Access
                  </a>
                {% endif %}
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </section>
      {% endif %}

      <!-- No Batches Available -->
      {% if not paid_cards and not free_cards %}
      <section style="text-align: center; padding: 3rem 0;">
        <div style="font-size: 4rem; margin-bottom: 1rem;">ðŸ“š</div>
        <h2>No Batches Available</h2>
        <p style="color: #666; margin-bottom: 2rem;">
          We're working on adding new batches. Please check back soon!
        </p>
        <a href="/" class="btn btn-primary">
          <i class="fas fa-home"></i> Go Home
        </a>
      </section>
      {% endif %}
    </main>

    <!-- Footer -->
    <footer class="footer" style="margin-top: 3rem;">
      <div class="container footer-content">
        <div class="footer-social">
          <a href="https://www.instagram.com/sunrise_education_centre?igsh=OGc5enlsanE0eWJ2" target="_blank">
            <i class="fab fa-instagram"></i> Instagram
          </a>
          <a href="https://www.youtube.com/@MohitNariyani" target="_blank">
            <i class="fab fa-youtube"></i> YouTube
          </a>
        </div>
        <div class="footer-links">
          <a href="#">Privacy Policy</a>
          <a href="#">Contact Us</a>
        </div>
        <div class="footer-copy">&copy; 2024 Sunrise Education Centre</div>
      </div>
    </footer>
  </body>
</html>

